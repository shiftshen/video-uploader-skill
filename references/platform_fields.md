# Platform Upload Fields Specification

This document defines all required and optional fields for each platform's video upload.

## Field Types

- **Required**: Must be provided for successful upload
- **Optional**: Can be provided for enhanced functionality
- **Auto-generated**: Can be generated by OpenClaw/AI if not provided

## Douyin (æŠ–éŸ³)

### Required Fields

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `title` | string | Video title (max 30 chars) | "ç¾é£Ÿæ¢åº— - åŒ—äº¬çƒ¤é¸­" |
| `video_path` | string | Absolute path to video file | "/home/ubuntu/videos/food.mp4" |
| `tags` | array[string] | Hashtags (without # prefix) | ["ç¾é£Ÿ", "æ¢åº—", "åŒ—äº¬"] |
| `account_file` | string | Path to cookie JSON file | "/home/ubuntu/cookies/douyin.json" |

### Optional Fields

| Field | Type | Description | Example | Default |
|-------|------|-------------|---------|---------|
| `publish_date` | datetime/int | Schedule time or 0 for immediate | "2024-12-31 18:00:00" or 0 | 0 (immediate) |
| `thumbnail_path` | string | Path to vertical cover image | "/home/ubuntu/images/cover.jpg" | null |
| `product_link` | string | Shopping cart product URL | "https://haohuo.jinritemai.com/..." | "" |
| `product_title` | string | Product short title (max 10 chars) | "åŒ—äº¬çƒ¤é¸­" | "" |
| `description` | string | Video description/caption | "ä»Šå¤©å¸¦å¤§å®¶æ¢åº—..." | Same as title |
| `location` | string | Geographic location | "åŒ—äº¬å¸‚æœé˜³åŒº" | "" |
| `sync_third_party` | boolean | Sync to Toutiao/Xigua | true | true |

### Auto-Generated Fields

- `title`: Can be generated from video content analysis
- `tags`: Can be extracted from title or video analysis
- `description`: Can be expanded from title
- `thumbnail_path`: Can be extracted from video frames

---

## Kuaishou (å¿«æ‰‹)

### Required Fields

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `title` | string | Video title | "å®¶å¸¸èœæ•™å­¦ - çº¢çƒ§è‚‰" |
| `video_path` | string | Absolute path to video file | "/home/ubuntu/videos/cooking.mp4" |
| `tags` | array[string] | Hashtags (max 3, without # prefix) | ["ç¾é£Ÿ", "æ•™å­¦", "å®¶å¸¸èœ"] |
| `account_file` | string | Path to cookie JSON file | "/home/ubuntu/cookies/kuaishou.json" |

### Optional Fields

| Field | Type | Description | Example | Default |
|-------|------|-------------|---------|---------|
| `publish_date` | datetime/int | Schedule time or 0 for immediate | "2024-12-31 18:00:00" or 0 | 0 (immediate) |
| `description` | string | Video description | "è¯¦ç»†æ­¥éª¤æ•™ä½ åš..." | Same as title |

### Auto-Generated Fields

- `title`: Can be generated from video content
- `tags`: Can be extracted (limited to top 3)
- `description`: Can be expanded from title

### Platform Limitations

- Maximum 3 hashtags
- Requires confirmation dialog for publishing

---

## TikTok

### Required Fields

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `title` | string | Video caption | "Amazing dance challenge! ğŸ’ƒ" |
| `video_path` | string | Absolute path to video file | "/home/ubuntu/videos/dance.mp4" |
| `tags` | array[string] | Hashtags (without # prefix) | ["dance", "challenge", "fyp"] |
| `account_file` | string | Path to cookie JSON file | "/home/ubuntu/cookies/tiktok.json" |

### Optional Fields

| Field | Type | Description | Example | Default |
|-------|------|-------------|---------|---------|
| `publish_date` | datetime/int | Schedule time or 0 for immediate | "2024-12-31 18:00:00" or 0 | 0 (immediate) |
| `description` | string | Additional caption text | "Join the challenge!" | Same as title |
| `privacy` | string | Video privacy setting | "public" / "friends" / "private" | "public" |
| `allow_comments` | boolean | Allow comments | true | true |
| `allow_duet` | boolean | Allow duet | true | true |
| `allow_stitch` | boolean | Allow stitch | true | true |

### Auto-Generated Fields

- `title`: Can be generated from video content
- `tags`: Can be extracted or suggested
- `description`: Can be expanded from title

### Platform Limitations

- Schedule time in 5-minute increments
- Uses Firefox browser (not Chromium)
- Two UI versions (iframe and direct)

---

## Tencent Video / WeChat Channels (è§†é¢‘å·)

### Required Fields

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `title` | string | Video title | "ç§‘æŠ€äº§å“è¯„æµ‹ - iPhone 16" |
| `video_path` | string | Absolute path to video file | "/home/ubuntu/videos/review.mp4" |
| `tags` | array[string] | Hashtags (without # prefix) | ["ç§‘æŠ€", "è¯„æµ‹", "iPhone"] |
| `account_file` | string | Path to cookie JSON file | "/home/ubuntu/cookies/tencent.json" |

### Optional Fields

| Field | Type | Description | Example | Default |
|-------|------|-------------|---------|---------|
| `publish_date` | datetime/int | Schedule time or 0 for immediate | "2024-12-31 18:00:00" or 0 | 0 (immediate) |
| `short_title` | string | Short title (6-16 chars, special rules) | "iPhone16è¯„æµ‹" | Auto-formatted from title |
| `category` | string | Original content category | "ç§‘æŠ€" | null |
| `is_original` | boolean | Declare as original content | true | false |
| `collection_id` | string | Add to collection | "collection_123" | null |
| `description` | string | Video description | "è¯¦ç»†è¯„æµ‹æœ€æ–°..." | Same as title |

### Auto-Generated Fields

- `title`: Can be generated from video content
- `tags`: Can be extracted or suggested
- `short_title`: Auto-formatted from title (removes special chars, adjusts length)
- `description`: Can be expanded from title
- `category`: Can be inferred from tags/content

### Platform Limitations

- Short title: 6-16 characters with special formatting rules
- Allowed special chars: ã€Šã€‹"":+?%Â°
- Requires system Chrome browser
- Original content requires category selection

---

## Xiaohongshu (å°çº¢ä¹¦)

### Required Fields

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `title` | string | Post title | "ä¸Šæµ·æ¢åº— \| å°ä¼—å’–å•¡é¦†æ¨è â˜•" |
| `video_path` | string | Absolute path to video file | "/home/ubuntu/videos/cafe.mp4" |
| `tags` | array[string] | Hashtags (without # prefix) | ["æ¢åº—", "å’–å•¡", "ä¸Šæµ·"] |
| `account_file` | string | Path to cookie JSON file | "/home/ubuntu/cookies/xhs.json" |

### Optional Fields

| Field | Type | Description | Example | Default |
|-------|------|-------------|---------|---------|
| `publish_date` | datetime/int | Schedule time or 0 for immediate | "2024-12-31 18:00:00" or 0 | 0 (immediate) |
| `description` | string | Post description/content | "ä»Šå¤©åˆ†äº«ä¸€å®¶..." | Same as title |
| `cover_path` | string | Path to cover image | "/home/ubuntu/images/cover.jpg" | Auto-extracted |
| `location` | string | Geographic location | "ä¸Šæµ·å¸‚é»„æµ¦åŒº" | "" |
| `post_type` | string | Post type | "video" / "image" | "video" |
| `images` | array[string] | Image paths (for image posts) | ["/path/1.jpg", "/path/2.jpg"] | [] |

### Auto-Generated Fields

- `title`: Can be generated from video content
- `tags`: Can be extracted or suggested
- `description`: Can be expanded from title
- `cover_path`: Can be extracted from video or images

### Platform Limitations

- Requires separate signature service (Flask server)
- More complex API-based upload
- Supports both video and image posts

---

## Common Field Generation Guidelines

### Title Generation

**From video filename**:
- Remove file extension
- Replace underscores/hyphens with spaces
- Capitalize appropriately
- Limit to platform max length

**From AI analysis**:
- Analyze video content
- Extract main topic
- Create engaging title
- Include relevant keywords

### Tags Generation

**From title**:
- Extract keywords
- Remove stop words
- Limit to platform max count

**From AI analysis**:
- Analyze video content
- Suggest trending tags
- Include category tags
- Platform-specific optimization

### Description Generation

**Basic expansion**:
- Expand title into full sentence
- Add call-to-action
- Include relevant emojis

**AI-powered**:
- Analyze video content
- Create engaging description
- Include SEO keywords
- Platform-specific style

### Thumbnail Generation

**From video**:
- Extract frame at 25% position
- Or extract most visually appealing frame
- Resize to platform requirements

**AI-powered**:
- Generate custom thumbnail
- Add text overlay
- Platform-specific dimensions

---

## OpenClaw Integration Format

### JSON Input Format

```json
{
  "platform": "douyin",
  "video": {
    "path": "/home/ubuntu/videos/sample.mp4",
    "title": "Amazing Video Title",
    "description": "Detailed description of the video content",
    "tags": ["tag1", "tag2", "tag3"]
  },
  "account": {
    "cookie_file": "/home/ubuntu/cookies/douyin_account.json"
  },
  "options": {
    "publish_date": "2024-12-31 18:00:00",
    "thumbnail": "/home/ubuntu/images/cover.jpg",
    "product_link": "https://example.com/product",
    "product_title": "Product Name"
  }
}
```

### YAML Input Format

```yaml
platform: douyin
video:
  path: /home/ubuntu/videos/sample.mp4
  title: Amazing Video Title
  description: Detailed description of the video content
  tags:
    - tag1
    - tag2
    - tag3
account:
  cookie_file: /home/ubuntu/cookies/douyin_account.json
options:
  publish_date: "2024-12-31 18:00:00"
  thumbnail: /home/ubuntu/images/cover.jpg
  product_link: https://example.com/product
  product_title: Product Name
```

### Command-Line Format

```bash
python upload_video.py \
  --platform douyin \
  --video /home/ubuntu/videos/sample.mp4 \
  --title "Amazing Video Title" \
  --tags "tag1,tag2,tag3" \
  --account /home/ubuntu/cookies/douyin_account.json \
  --publish-date "2024-12-31 18:00:00" \
  --thumbnail /home/ubuntu/images/cover.jpg \
  --product-link "https://example.com/product" \
  --product-title "Product Name"
```
